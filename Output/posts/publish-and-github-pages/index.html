<!DOCTYPE html><html lang="en"><head><title>Joshua Walsh - iOS/Mac Developer</title><meta name="twitter:title" content="Joshua Walsh - iOS/Mac Developer"/><meta name="og:title" content="Joshua Walsh - iOS/Mac Developer"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/grids-responsive-min.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">joshuatwalsh.com</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://secure.gravatar.com/avatar/8f66ed083c1f256c6ba9219c674b430b"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Joshua Walsh</h1><h3 class="brand-tagline">iOS/Mac Developer</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="mailto:joshuatwalsh@gmail.com"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:joshuatwalsh@gmail.com">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/mosaic6"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/mosaic6">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/_jtwalsh"><i class="fab fa-twitter-square l-box social-icon"></i><a class="social-media" href="https://twitter.com/_jtwalsh">Twitter</a></a></div><div class="pure-u-md-1-1"><a href="https://www.buymeacoffee.com/joshuawalsh"><i class="fas fa-mug-hot l-box social-icon"></i><a class="social-media" href="https://www.buymeacoffee.com/joshuawalsh">Buy Me A Coffee</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/posts/publish-and-github-pages">Creating a website with Publish and Github Pages</a></h2><p class="post-meta">January 4, 2021</p><div class="post-tags"><a class="post-category post-category-development" href="/tags/development">development</a></div><div class="post-description"><div><h1>Creating a website with Publish and Github Pages</h1><p>If you've heard about Publish, you know it's a Swift developer's friend when it comes to creating their own website. There are a lot of really cool things about this tool, and some frustrating bits as well. I'll walk you through some of the "gotchya's" I faced so hopefully, you get a smoother experience.</p><h2>Getting started with Publish</h2><p>Let's start with some of the simple parts. Head over to <a href="https://github.com/johnsundell/publish#quick-start">Publish</a> for the official getting started part. I'll summarize here.</p><h3>Install the command-line tool</h3><p>This will install all necessary dependencies and the command-line tool for generating websites with Publish.</p><pre><code>$ git clone https://github.<span class="property">com</span>/<span class="type">JohnSundell</span>/<span class="type">Publish</span>.<span class="property">git</span>
$ cd <span class="type">Publish</span>
$ make
</code></pre><h2>Important note</h2><p>I'll be using <code>&lt;username&gt;</code> to indicate places where you should use <em>your</em> Github username.</p><hr><h3>Create your project folder</h3><p><em>Don't create your project folder inside the <code>Publish</code> folder</em>. Make sure you create your project folder somewhere in an empty folder, or directly onto your desktop. I like to put all my development work inside a folder in my root directory called <code>Projects</code>. But you do you.</p><pre><code>$ mkdir &lt;username&gt;.<span class="property">github</span>.<span class="property">io</span>
$ cd &lt;username&gt;.<span class="property">github</span>.<span class="property">io</span>
$ publish new
</code></pre><p>After running <code>publish new</code> you'll have a new project inside your folder with everything you need to get started.</p><h3>Open your project</h3><pre><code>$ <span class="keyword">open</span> <span class="type">Package</span>.<span class="property">swift</span>
</code></pre><p>This will open XCode and resolve all package dependencies for you. It's magic.</p><h2>Setting up your Github Page</h2><p>In your Github account, create a new repository. Give it a name with the following format. <code>&lt;username&gt;.github.io</code>.</p><p>This is all you need to do (right now) for your repository. Press <code>Create Repository</code> and jump back over to Xcode.</p><p>Before we start styling or writing any content, let's get our site live so we can see what the end result will be on Github. You can also test this out locally by running the following command in Terminal.</p><pre><code>$ publish run
</code></pre><p>This will spin up a local web server for you to see your changes. Open your web browser and go to <code>localhost:8000</code></p><h2>Creating a new working branch</h2><p>In your project folder in Terminal run the following commands</p><pre><code>$ git <span class="keyword">init</span>
$ git checkout -b posts
</code></pre><p>You can call your branch whatever you want as long as it's not <code>master</code>. Publish and Github pages reserve the <code>master</code> branch for your site's generated output. When we run the <code>publish deploy</code> command it will push your <code>output</code> folder changes to the <code>master</code> branch and not your working branch.</p><h2>Back to Xcode</h2><h3>Open the <code>main.swift</code> file.</h3><p>In this file you're going to see the last line that looks like this:</p><pre><code><span class="keyword">try</span> <span class="type">Mosaic6GithubIo</span>().<span class="call">publish</span>(with theme: .<span class="dotAccess">foundation</span>)
</code></pre><p>Let's change it so we can push our page up to Github. Here is what it should look like:</p><pre><code><span class="keyword">try</span> <span class="type">Mosaic6GithubIo</span>().<span class="call">publish</span>(
  withTheme: .<span class="dotAccess">foundation</span>,
  deployedUsing: .<span class="call">gitHub</span>(<span class="string">"&lt;username&gt;/&lt;username&gt;.github.io"</span>, useSSH: <span class="keyword">false</span>)
)
</code></pre><h2>Back to Terminal</h2><h3>Get ready to push to Github</h3><p>Now we are ready to push our changes to our <code>post</code> branch and deploy our site. Run the following commands:</p><pre><code>$ git add .
$ git commit -m <span class="string">"Initial commit"</span>
$ git remote add origin https://github.<span class="property">com</span>/&lt;username&gt;/&lt;username&gt;.<span class="property">github</span>.<span class="property">io</span>.<span class="property">git</span>
$ git push -u origin posts
</code></pre><p>This will add your branch to Github without any generated output. Now let's generate some HTML for our site.</p><pre><code>$ publish generate
</code></pre><p>This generates the website in your current folder. Your <code>Output</code> folder should now have some additional files in it. You shouldn't need to touch these files since all our work will be done writing <code>Swift</code> and <code>Markdown</code>.</p><h2>Time to deploy</h2><pre><code>$ publish deploy
</code></pre><h1>üëè You did it!</h1><p>You pushed your generated site up to Github, on to a newly created <code>master</code> branch. Go check it out.</p><p>You can see your new branch by clicking the dropdown branch picker. Go ahead, click it.</p><img src="/images/change-branch.png" alt="Branch names"/><p><em>As you can see I called my working branch <code>main</code></em></p><p>When you switch branches on Github you'll see the difference in what files and folders are on each branch.</p><p>There is one more thing to change before we can see our site go live. Head to the settings page on your repo and scroll down to the <code>Github Pages</code> section.</p><p>Here we'll want to make sure our <code>Source</code> is set to the <code>Master</code> branch, and our path is set to the <code>/(root)</code> folder. This will ensure we load our site from the <code>index.html</code> file found in the <code>Master</code> branch.</p><img src="/images/source-pages.png" alt="Master source"/></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">¬© 2021 Joshua Walsh</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a>. Written in Swift</div><div class="pure-u-1"><a href="/feed.rss">RSS feed</a></div></div></div></body></html>